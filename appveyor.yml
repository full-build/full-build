os: Visual Studio 2015

environment:
  GITHUB_TOKEN:
    secure: SNU7aaT74dbTXWCsWeFxWvfwJ4BLItFdO2EY7MYoEg9vec2EGBloH8PNDpkJbBKg

skip_tags: true

version: 2.2.{build}

build_script:
  - cmd: build-all.cmd %APPVEYOR_BUILD_VERSION%.*
  
test:
  assemblies:
  
deploy_script:
  - cmd: push.cmd
  
artifacts:
  path: apps/full-build.zip
  name: full-build

notifications:
  - provider: GitHubPullRequest
    auth_token:
      secure: SNU7aaT74dbTXWCsWeFxWvfwJ4BLItFdO2EY7MYoEg9vec2EGBloH8PNDpkJbBKg
    template: "{{#passed}}:white_check_mark:{{/passed}}{{#failed}}:x:{{/failed}} [Build {{&projectName}} {{buildVersion}} {{status}}]({{buildUrl}}) (commit {{commitUrl}} by @{{&commitAuthorUsername}})"